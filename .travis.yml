before_install:
- sudo add-apt-repository -y ppa:chris-lea/libsodium
- sudo apt-get install -y libsodium-dev
- sudo add-apt-repository -y ppa:cran/imagemagick
- sudo apt-get install -y libmagick++-dev
- R -q -e 'if (!requireNamespace("remotes")) install.packages("remotes")'
- R -q -e 'if (getRversion() < "3.2" && !requireNamespace("curl")) install.packages("curl")'
- R -q -e 'remotes::install_github("ropenscilabs/tic", upgrade = "always"); print(tic::dsl_load());
  tic::prepare_all_stages()'
- R -q -e 'tic::before_install()'
addons:
  apt:
    update: true
install: R -q -e 'tic::install()'
after_install: R -q -e 'tic::after_install()'
before_script: R -q -e 'tic::before_script()'
script: R -q -e 'tic::script()'
after_success: R -q -e 'tic::after_success()'
after_failure: R -q -e 'tic::after_failure()'
before_deploy: R -q -e 'tic::before_deploy()'
deploy:
  - provider: script
    script: R -q -e 'tic::deploy()'
    on:
      all_branches: true
  - provider: releases
    api_key:
      secure: GITHUB_KEY
    file: 
     - "tweet_report.md"
     - "build_report.md"
    skip_cleanup: true
    on:
      tags: true
after_deploy: R -q -e 'tic::after_deploy()'
after_script: R -q -e 'tic::after_script()'
language: r
sudo: false
dist: xenial
cache: packages
latex: false
env:
  global:
  - MAKEFLAGS="-j 2"
  - secure: hY8bUG7+9FGq4kRZD+9Im7xyfeRJuKY0lfKa/bHH3PLShr+TjFCFlo4r01tqUTglCcxfmtkclnJCHLmT8ZTp9MYFQ23l4nM9kjBmyRsnGBa2i4SJWcg7gRTvDyGOz0YQqw4HAPQMx6YSDsdVGLCqq5wNIlHPFAWOeHK/zKQE1sex/MeEPhlPtakJbs61kgbPXvxSxSrGhFQTH9WB3/a83XENIogYIF7Mck5KFMm9yhoAw7zGnetWLEtc6piOXJ0M+dET3koF4tBuO6rWB1oL5DyFFR5WVIwl7OmEf+zo+/+dgEszFyXItgyTUKSf1jcMlKH8t4/pbcmAnk9LnqL1y/3RyqL2KIVzyrCjl1whVhedZcGAvnEj/kBkzCvFsXKMcWocU+13+5x6lhWlQ46AEZTVQqFvvBIFkuKd6CblfKf4KJaQ7Gb4Ug0+sQ/w1BGLPZsksqYF9KpTtVw+reZeSHmnlm5oIiNPRU0uZ/1Nj/sb4XeGyv9bKzr1f3PfTwLJn11DF6d2soOCctb6aJbp1k01CkzzmQc6JwgHDOJRkvM0iz5x5FdNlbC89TSkxk5dSXV7asHg+2ezA6NI4gvpV06qD34X2eTLw3pFT/glhfGI5q9jg7SBU1oBdYund9j52dAq9dS1FNW2Oj2LCM2ukG5trsEty9avR7J++vEAAp8=
  - secure: G3K63pVFzcbrviF7Y12pQ0cSKk9LCNK+eQwKbO8Ep23xru4YFao5jDDqlDqc+9EJR0Sfyy6H+0EWUET+kxCRoZjDSvi7jnqstLdRrFBFJJ+UfGygpvo2Xfg8yVDcNxV/KxNkPVkc9aNQzfbnhK4M/cZiBCIchXMdfTqxFS+6XBzGRtpPNliy1UJIU8UgRNLCtSvZ73D3Ok75BUQKDdKMd9cyRn83QhwjTthwFygA73sb4HN/b8hvVaCh1rkw61JdE9tA62QzEnBbIW+Yb2jL1JhXwXKo+vuzwRCjC7ZtQxNeXzq30VD5/h2DaDqi2BEy/Yej7srJZ8lN8g6YzgQFZiU80FvhxJi8WOcOMYW3aQM1+Kyq1HCaH8yGtuXNZppok5UW6By+EWcK3vZBHj4usUuspp5zi18LG3YpHXRKhB1vjTLXWoAX53WncB7ZHNHvuTw443LFMCIHiS9nD6SSYGpshTG95hmW75OU2I1LwYdpqtxFjTZXxRjtEC/HES7QhIOIRGR/KNAAJY43bDfbLZG28tQlqkX2Ul7NV6ETGstSqQ1ZABfLwDnHwiJepQWu4qu9aTBmLkZe08d4ID92E0Vg9xpme4XW6RB+2u0zUiqii3J/41oTb0cOG9OPOd6QMrBXgdSO3j/IhY3QGNuwnu6ukEPKqh9+EF20vjCnNz8=
  - secure: mdDKhjXWHLU4ird+aVfvh8Vu4LVAmGOkc897EKlAjEVHD7mZNIX97NidLTwLpZvu828DgUvxCW4BNbQIFQpEXHKfkXSQIzjfuwh6khjP+RpdejSF+wowkCmCWavav4plbD3stXAFcAdSgEHGiMJ2XsVqlqKMgXDm3UkXim93WXODXNQ8Lx+h7Txof9c6UFsxtQI7dTmnTXsJYnzPlC36Q9R8gZ5YvesSuNw9TbN9YErPXNoXsL5Je6M4srKpYf21P5A5GzXGxtLewa3d6Shc4FH8WpZdHuvtFToQUAMSMfTHH8nDBIa7Fh39mks85ApZsWwiXSN8Vg15fAEg7r+HkJta1U9eujyMIDVHJLY7QL6jUkMA+TRvVRwgTxSqpg0JRB9sDcqC9cVQssi53L+fmjgCTtwQOTr3nr6aIy0k9ZmwadNk0unb3OykXVAsZsdcuFDamroSRGj1ALt9UGwi1pFFLmLS1pw1h7FWjYmONKBSTq93VLv1v/U+qdFtZgmXWsJTzl5VGXjs2MbmEqhKaF+44c6EB9Cvv+ZOvao0aL111daYkySEBi34CJ7hpePyRB/jWEsbS4XDG+Hj0LTIC/PQnUIRypYtps0UnMVLUhNDXXn1oDELEAQstV0YvAvE3bu5EH+T0M1uCOlQ6lhxPIYZvdibov1qEPwC2/PE/gU=
  - secure: B4cCwt/Av9XoFfdhGcteRQq6fqloOFfzMs0MP2/gcE1d0H4jsvE/gfXEox10fMdvTzpmYsy0IuvKdPAfGjNHqsn061m71NEow4YDIyktPAMqmUCcuW50nrI3X/sA0hx34aiCrfyKeInw6fUjJ+dJttIqhUkpvp7BikaQzKw9+kahOae/owBJcTcc+O1vNXY6ZrehBPgnT65vvWiPw+wfoTj6yHFpi9nK8dLjw3+VSPLGv5vtsT6G/0U7wH4rom/N8nJO5y0p+g6iCR8KTDJQj9KKzhr11caJjMhpqcIfY2Ed0RQvZ13dadr8s82t+Xxbh6XubeGBTw0kUniDwwhbyEg9M1soUVLG8lhSPG75ELQlXIr8rm08jlXbIfCLKc664rFp/OiRvwZg8/SjIZ44IZ1OhsJY7an+s9msrD9MClo2/Z34lejhOZgonPeunNwRjV/u7QL8KTwX4ilV12fw1kD7UZjXsjXqPC6ueN2hQy+RmNkaYveJ80nX5bHLn/68vaRBy02MRgBzozm4SRKbqZ49pfbYnmMeBq/CJoSMFaqj6X1Lqwtovx9ACm+PfRap/TTIrck/WB980AfiHQTef1a1f5Qo4ytocPBNBCZatn8a7kioUMu49RIxXfs3hs08u+BY6A2MJChqo3gzTIjisgXRZQ/Afi5WQg/yFGFkY8A=
  - secure: rMjxQEC4OjqYTYFUiq/9nPiEV4oUg5np08o0GkUxx34zem3QZ9NM0naGmmjdUvq57WMuP05/J3gG3JPlUycUc+awiREqqmChoXW+4mxyZPQx9mnWjmBrXi3t4A2YNsackQJMVW9YV9Lff24DGnINbKSNX1xSHGOlD0UiWoZW15NyfpvIUuS8gzz4s0cehjufagykZTfmesCTUXHUz0B2Vtc5kbBRH+i+OtUk+OS+zMtG3VFfWbaNcvTK+jytk0UBE41iUEJ/GAaMViIjtkxwKPJzvqSzOgWWkcqgcao/XIkECKAOdPQP2UF3iDyHw4ceqcYIQBlK0ta1nfDL8Evo4C956D2i257X4MjICw1OvvhZr5Wf/sNYsDQfUUh/sM1D20CqvMrKHL1wH9WLrb3Fx+uMy32sqGi8frlTTEndaIJRdjEBtERiovYz4rcawEYhj7M3i3+Zjow+naHMSJlvTPiHn7H2A6RqiPWKKlc0obkEE9zDw+av1zysK8pKRmnJElqBxFgGQ2dz+zx44V4OqYyWFD+3FTZodDJJO0YMTDI2Pihv6tfVvZts5OkO4/f52XYR/32Ubf9m/DcOFdBU4gsxig00+L9R2oFLWJt58n73VPkxSZky9IdksEEdjIm7YXRzZAQi/2w4AyUb17ItMqPmqrVJVltk9857meCyIZU=
  - secure: lFwExblsQM8n6MCev1PVBC+SR2Ro1i0FpuIpPC6g2KrZKl0ZIdgHCeCoWse0LHgKk+EiHOEj+OW40f1XEuHSk2MDzs3BgCFcU6rn1ZaTYkEEfOmG/hk2wVATca7CWYScbRIDEbAmJuuOVoxUutMkfWtnsJ6f397a/TkhreGN/wtLWvIpN4GJfH3iiJgrCD26/h7HAb3+wpvXnufdXuODboBBzdqUrmK9Bw7UsTEaiBZe1oDVIPUJlRf/ym769P5HoI4ps8vaD5X2EWmTYsHs8E4lDQOLYOeuNM6+A2a9sV2r2ru8EkF+AP5a9ouLhmzG3DnJmvM5dDWIRt7OI0S76MGwpljWJPQ5FDUC79VTM+hWQqehgwCZLpGzWvSRRdkE7ZoHymuDfA7EpdebhPy3M1opafx66HBxo1XRxhAZinJ5uuFK0yNYKr0hvyqIh6OERbqH7Nw6G34PDtg2w+A9PjtfzohKUfmFISJwk0U9uxA5cRbEig1TzHqQSppsBlGpbxqfxt6YVMMB/tF6gDWP810OIxAt1s1d8ORo2Gvfz6MORdVRvURedeuBRFpjMNcnWn833hPp09PRoTJZN5Vy77lQIgPYTOQGF2ueNM6OEA8rBKW7fTwIBc9IYnKaQjIyxO2gMWH7U28dtafse1Zn7BFBpUYbWjyi2qZh4Vle7v0=
services:
notifications:
  email:
    recipients:
    - mcuoco12@gmail.com
    on_success: always
    on_failure: always
